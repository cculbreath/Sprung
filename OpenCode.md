# OpenCode.md - PhysCloudResume

## Build Commands
- **Build**: xcodebuild -project PhysCloudResume.xcodeproj -scheme PhysCloudResume -configuration Debug -destination "platform=macOS,arch=arm64" build 
- **Format**: `swiftformat . --config SwiftOpenAI/rules.swiftformat` (Airbnb style, 2-space indent, 130 char limit)

## Project Structure
- This is a **macOS** app, not an iOS app.
- Local clones of dependency repositories are available for code and documentation reference:
  - `~/devlocal/swift-chunked-audio-player` contains `ChunkedAudioPlayer`
  - `~/devlocal/codebase/SwiftOpenAI-ttsfork` contains my customized fork of `SwiftOpenAI`
- **CRITICAL**: `./ClaudeNotes/` contains essential architectural documentation
  - `LLM_OPERATIONS_ARCHITECTURE.md` - Complete LLM refactoring plan and implementation guidance
  - `LLM_MULTI_TURN_WORKFLOWS.md` - Complex workflow patterns and code examples
  - `ISSUES_AND_REFACTORS.md` - Known issues and future features
  - `POST_MIGRATION_CODE_CLEANUP.md` - Dead code tracking document
  - **Always read these files before starting any LLM-related work**



## Coding Style
- Use Swift's native error handling with `try/catch` and avoid force unwrapping
- Organize imports alphabetically
- Follow protocol-oriented programming patterns
- Document public methods with triple-slash (`///`) comments
- Use `@available` annotations for version-specific features
- Prefer async/await over completion handlers where possible
- Use SwiftData for persistence
- Log network calls with descriptive emojis for easy debugging

## Coding Practices
- **ðŸš« NEVER include AI attribution in commit messages** - Work anonymously, no "Claude", "Generated by", or similar attribution
- Commit code changes regularly, using **detailed commit messages** that explain the purpose and impact
- For major features or refactoring:
  - Create a new **branch**.
  - Use **multiple commits** where appropriate to document meaningful steps.
- After completing a branch:
  - Offer to assist with merging it back into `main`.
- **Before editing any code**, generate a detailed **implementation plan** and submit it for my feedback.
- For long, multi-part coding sessions:
  - Convert the plan into a **checklist file**.
  - Save and regularly update the checklist as features are completed.
- Build at regular intervals and address compiler errors
- **LLM Refactoring Specific**: 
  - Start with Phase 1 implementation (LLMService + ResumeReviseService)
  - Test each operation manually through UI before proceeding
  - Preserve existing functionality during migration
  - Follow two-stage model filtering patterns

## Environment
- You are working in a **macOS command-line environment**.
- `coreutils` has been installed; use `gcat -A` to visualize whitespace in code files.
- `grep -n` is allowed
- If you're unsure whether a feature is working, **ask me** for a screenshot, a test run, or UI feedback â€” I'm happy to help evaluate at any time.

## Important Reminders
- Please do not implement #Preview in any views