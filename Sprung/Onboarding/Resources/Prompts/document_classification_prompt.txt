Classify this document to determine the optimal extraction strategy.

FILENAME: {FILENAME}
CONTENT PREVIEW (first 3000 chars):
{PREVIEW}

---

Analyze the document and return JSON:

```json
{
  "document_type": "resume | personnel_file | technical_report | cover_letter | reference_letter | dissertation | grant_proposal | project_documentation | git_analysis | presentation | certificate | transcript | other",

  "document_subtype": "More specific type if applicable (e.g., 'WPAF', 'consultation_report')",

  "extraction_strategy": "single_pass | sectioned | timeline_aware | code_analysis",

  "estimated_card_yield": {
    "employment": 0,
    "project": 0,
    "skill": 0,
    "achievement": 0,
    "education": 0
  },

  "structure_hints": {
    "has_clear_sections": true,
    "has_timeline_data": true,
    "has_quantitative_data": true,
    "has_figures": false,
    "primary_voice": "first_person | third_person | institutional"
  },

  "special_handling": []
}
```

## Document Type Definitions

- **resume**: CV or resume showing work history, education, skills
- **personnel_file**: Employee file with reviews, appointment letters, evaluations (e.g., WPAF)
- **technical_report**: Design docs, consultation reports, technical documentation
- **cover_letter**: Job application cover letter (useful for voice extraction)
- **reference_letter**: Recommendation or reference letter
- **dissertation**: Academic thesis or dissertation
- **grant_proposal**: Funding proposal (STTR, SBIR, etc.)
- **project_documentation**: Project reports, status updates, deliverable documentation
- **git_analysis**: Pre-analyzed git repository data (JSON format)
- **presentation**: Slides or presentation materials
- **certificate**: Professional certification or credential
- **transcript**: Academic transcript
- **other**: Doesn't fit above categories

## Extraction Strategy Definitions

- **single_pass**: Document can be processed in one pass (short docs, clear structure)
- **sectioned**: Break into logical sections, process each (long docs with clear headers)
- **timeline_aware**: Multiple roles/periods need timeline context (personnel files, resumes)
- **code_analysis**: Already structured code analysis (git_analysis JSON)

## Special Handling Flags

- **needs_figure_extraction**: Document contains figures/diagrams that should be extracted
- **contains_multiple_roles**: Document covers multiple distinct roles/positions
- **spans_multiple_years**: Document covers an extended time period
- **contains_writing_samples**: Document contains writing samples worth preserving

Return ONLY valid JSON.
