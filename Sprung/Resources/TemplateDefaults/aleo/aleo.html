<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>{{{basics.name}}}</title>
        <style>
            /* 1. Font Definitions - Fixed to match actual PostScript names */
				@import url('https://fonts.googleapis.com/css2?family=Aleo:wght@100..900&display=swap');
			
			/* Use in CSS as: font-family: "Aleo", serif; */
            /* 2. CSS Variables and Resets */
            :root {
                --debug-border-color: transparent;
                --debug-border-color-secondary: transparent;
                --debug-border-width: 0;
            }
            *, *::before, *::after { box-sizing: border-box; }
            html, body {
                margin: 0;
                padding: 0;
                word-break: keep-all;
                hyphens: none;
            }
            a { text-decoration: none; color: black; }
            /* 3. Layout Containers */
            .page-wrapper {
                margin-top: 0;
                padding: 6pt 0;
                width: 100%;
                height: 10.125in; /* 11in - 0.375in top - 0.5in bottom */
                display: flex;
                flex-direction: column;
                box-sizing: border-box;
            }
            .flex-container {
                display: flex;
                width: 100%;
                margin: 0;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                margin-bottom: 8pt;
                border: var(--debug-border-width) solid var(--debug-border-color);
            }
            .main-content {
                display: grid;
                grid-template-columns: 2.35in 1fr;
                column-gap: 20pt;
                width: 100%;
                flex: 1;
                margin: 4pt 0 0 0;
                padding: 0 4pt;
                border: var(--debug-border-width) solid var(--debug-border-color);
            }
            .left-column, .right-column {
                font-variant-numeric: lining-nums;
                display: flex;
                flex-direction: column;
                border: var(--debug-border-width) solid var(--debug-border-color-secondary);
            }
            .right-column {
                border: var(--debug-border-width) solid var(--debug-border-color);
            }
            /* 4. Typography & Headings */
            .header-text {
                font-family: 'Aleo';
                font-weight: 50;
                text-align: center;
                margin-left: auto;
                margin-right: auto;
                margin-top: -8pt;
                margin-bottom: 2pt;
                letter-spacing: 0.25pt;
                border: var(--debug-border-width) solid var(--debug-border-color);
            }
            .subheader {
                display: block;
                width: 100%;
                font-family: 'Aleo', serif;
                font-weight: 500;
                text-align: center;
                margin-left: auto;
                margin-right: auto;
                margin-top: 0pt;
                margin-bottom: 3pt;
            }
            h2 {
                font-family: 'Aleo';
                font-weight: 300;
                margin: 0;
                margin-bottom: 2pt;
                border: var(--debug-border-width) solid var(--debug-border-color);
            }
            h3 {
                font-family: 'Aleo';
                font-weight: 600;
                margin: 0;
            }
            h4 {
                margin-top: 2pt;
                font-family: 'Aleo';
                font-weight: 300; /* Increased from 200 to fix rendering */
                margin-bottom: 1pt;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
            .right-column h4 { margin-top: -2px; margin-bottom: 0px; }
            .right-column h3 { margin-top: 0; }
            .light { font-family: 'Aleo'; font-weight: 400; }
            .project { font-family: 'Aleo'; font-weight: 600; }
            /* 5. Section Titles & Decorative */
            .section-title {
                display: flex;
                align-items: center;
                text-align: center;
                margin: 0;
                margin-bottom: 2pt;
            }
            .section-title h2 {
                margin: 0 10px;
                white-space: nowrap;
                margin-bottom: 0pt;
                font-family: 'Aleo';
                font-weight: 100;
                margin-top: 0px;
            }
            .section-title hr {
                flex-grow: 1;
                border: none;
                border-top: 0.35pt solid #777;
                opacity: 0.45;
                margin: 0;
            }
            /* 6. Contact Info */
            .contact {
                font-family: 'Aleo';
                font-weight: 300;
                width: 100%;
                text-align: center;
                margin: 5pt auto 4pt auto;
                font-variant-numeric: lining-nums;
                display: flex;
                flex-direction: row;
                flex-wrap: nowrap;
                justify-content: center;
                border: var(--debug-border-width) solid var(--debug-border-color);
            }
            .contact .spacer { padding: 0 11pt; }
            .contact-icon {
                width: 8pt;
                height: 8pt;
                display: inline-block;
                vertical-align: middle;
                margin-right: 7pt;
                fill: currentColor;
            }
            /* 7. Info and Education Boxes */
            .info-box {
                font-family: 'Aleo', serif;
                font-weight: 200;
                background-color: #fff;
                border: 0.5pt solid #d6d2cc;
                border-radius: 9px;
                padding: 6pt 8pt;
                margin-bottom: 9pt;
                page-break-inside: avoid;
                break-inside: avoid;

            }
            .info-box .light { font-family: 'Aleo'; font-weight: 400; }
            .info-box .lightitalic {font-family: 'Aleo'; font-weight: 300; font-style: italic; }
			.edu-line { display: block;margin-bottom: 5px; font-family: 'Aleo'; font-weight: 300; font-style: italic; font-size: {{styling.fontSizes.schools}};}
            /* 8. B	ullet Lists */
            .info-box ul {
                margin: 0;
                padding: 0;
                list-style: none;
            }
            /* ===== Skills (replacement) ===== */

            .skill-div {
              font-family: 'Aleo';
              font-weight: 300;
              margin-top: 4pt;
              font-variant-numeric: lining-nums;
              line-height: 1.22;
              padding-left: 14pt;
              text-indent: -14pt;
            }

            /* Star bullet */
            .skill-div::before {
              content: "★ ";
              display: inline-block;
              width: 14pt;
              text-indent: 0;
            }

            /* Category title (same line as star) */
            .skill-category {
              font-weight: 500;
              font-size: {{styling.fontSizes.skillNames}};
              display: inline; /* critical: prevents star from landing on its own line */
            }

            /* Keywords/description on the next line with spacing */
            .skill-keywords {
              margin-top: 2pt;   /* adjust 1pt–4pt */
              font-style: italic;
              font-weight: 300;
              line-height: 1.22;
              text-indent: 0;
            }
            /* Individual keyword spans - separator added via JS */
            .skill-keywords .kw.has-sep::after {
              content: " ·";
            }
            .edu-head {
				  display: block;
				  margin-bottom: 0;
                font-family: 'Aleo';
                font-weight: 500;
            }
			.edu-box {
				margin-top: auto;
			}
            .edu-list {
                list-style: none;
                padding: 0;
                margin: 0;
            }
            .edu-item { margin-bottom: 7pt; }
            .edu-item:last-child { margin-bottom: 0; }
            .edu-meta {
                font-family: 'Aleo';
                font-weight: 300;
                color: #666;
            }
            /* 9. Top Box (Work Experience Bullets) */
            .top-box {
                border: var(--debug-border-width) solid var(--debug-border-color-secondary);
            }
            .top-box ul {
                list-style: none;
                padding-left: 10px;
                margin: 0 0 3px 0;
            }
            .top-box ul li {
                position: relative;
                font-style: normal;
                margin-bottom: 3.5px;
                padding-left: 10pt;
                line-height: 1.18;
            }
            .top-box ul li::before {
                content: "•";
                position: absolute;
                left: 0;
                top: 0;
            }
            /* 10. Projects & Bottom Box */
            .projects {
                border: var(--debug-border-width) solid var(--debug-border-color-secondary);
                margin: 3pt 0 0 0;
                padding: 0;
            }
            .project-list {
                padding: 0;
                padding-left: 12pt;
                border: var(--debug-border-width) solid var(--debug-border-color);
                margin: 0;
                line-height: 1.2;
            }
            .project-list li { margin-bottom: 4pt; }
            .bottom-box {
                border: 0.5pt #d9d7d0 solid;
                border-radius: 9px;
                text-align: center;
                font-family: 'Aleo';
                font-weight: 500;
                padding: 4pt;
                margin-top: auto;
                margin-bottom: 0;
            }
            /* 11. Right Column List Adjustments */
            .right-column ul {
                font-family: 'Aleo';
                font-weight: 300;
                margin-top: 3pt;
                padding-left: 10pt;
                line-height: 1.2;
            }
            .right-column li { margin-bottom: 3pt; line-height: 1.1; }
            .right-column strong { font-family: 'Aleo'; font-weight: 400; }
            /* 12. Objective and Paragraphs */
            .objective {
                font-family: 'Aleo';
                font-weight: 300;
                width: 100%;
                margin: 0 0 6pt 0;
                padding: 7pt 9pt 7pt 9pt;
                line-height: 1.24;
                text-align: left;
                border: 0.5pt #d9d7d0 solid;
                border-radius: 9px;
                background: #fff;
            }
            p {
                margin: 0 0 1rem;
                line-height: 1.5;
            }
			.skill-box {
			}
			.edu-box {
				margin-top: auto;
				margin-bottom: 0;
				padding-bottom: 0;
			}
            /* 13. Hidden/Visually Hidden */
            .visually-hidden {
                position: absolute;
                width: 1px;
                height: 1px;
                padding: 0;
                margin: -1px;
                overflow: hidden;
                clip: rect(0, 0, 0, 0);
                white-space: nowrap;
                border: 0;
            }
            .hidden-metadata {
                font-size: 1px;
                line-height: 1px;
                position: absolute;
                left: -9999px;
                white-space: nowrap;
            }
            /* 14. Print Styles */
            @page { size: 8.5in 11in; margin: 0.375in 0.375in 0.5in 0.375in; }
            @media print {
                body { margin: 0; padding: 0; }
            }
            /* 15. Dynamic font sizes (Handlebars template variables) */
            .header-text { font-size: {{{styling.fontSizes.name}}}; }
            .subheader { font-size: {{{styling.fontSizes.jobTitles}}}; }
            .objective { font-size: {{{styling.fontSizes.objective}}}; }
            .contact { font-size: {{{styling.fontSizes.contact}}}; }
            .info-box h2, .edu-box h2 { font-size: {{{styling.fontSizes.boxTitles}}}; }
            .skill-div { font-size: {{{styling.fontSizes.skillDescriptions}}}; }
            .skill-head { font-size: {{{styling.fontSizes.boxTitles}}}; }
            .edu-head { font-size: {{{styling.fontSizes.degreeNames}}}; }
            .edu-meta { font-size: {{{styling.fontSizes.graduationDate}}}; }
            .edu-box .lightitalic { font-size: {{{styling.fontSizes.schools}}}; }
            .section-title h2 { font-size: {{{styling.fontSizes.sectionTitle}}}; }
            .right-column h4 { font-size: {{{styling.fontSizes.workDates}}}; }
            .right-column h3 { font-size: {{{styling.fontSizes.employerName}}}; }
            .right-column ul { font-size: {{{styling.fontSizes.workHighlights}}}; }
            .top-box ul li { font-size: {{{styling.fontSizes.workHighlights}}}; }
            .project-list { font-size: {{{styling.fontSizes.projectText}}}; }
            .project-list li { font-size: {{{styling.fontSizes.projectText}}}; }
            .bottom-box { font-size: {{{styling.fontSizes.moreInfo}}}; }
            .bottom-box li { font-size: {{{styling.fontSizes.projectText}}}; }
            .right-column ul li,
            .top-box ul li {
                font-style: normal;
            }
        </style>
    </head>
    <body>
        <div class="page-wrapper">
            <div class="header">
                <div class="header-text">{{{basics.name}}}</div>
                <div class="subheader"> {{ join(custom.jobTitles) }}</div>
            </div>
            <div class="flex-container">
                <div class="objective">
                    {{{ custom.objective }}}
                </div>
                <div class="contact">
                    <div>
                        <svg class="contact-icon" viewBox="-64 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"/></svg>{{basics.location.city}},&nbsp;{{basics.location.region}}
                    </div>
                    <div class="spacer"></div>
                    <div>
                        <svg class="contact-icon" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"/></svg>{{basics.phone}}
                    </div>
                    <div class="spacer"></div>
                    <div>
                        <svg class="contact-icon" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"/></svg><a href="mailto:{{{basics.email}}}">{{{basics.email}}}</a>
                    </div>
                    <div class="spacer"></div>
                    <div>
                        <svg class="contact-icon" viewBox="-8 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"/></svg><a href="https://{{{basics.url}}}">{{{basics.url}}}</a>
                    </div>
                </div>
            </div>
            <div class="main-content">
                <div class="left-column">
                    <div class="info-box skill-box">
                        <div class="skill-head">{{{template.sectionLabels.skills}}}</div>
                        
                            {{#skills}}
                            <div class="skill-div">
  <span class="skill-category">{{{name}}}</span>
  <div class="skill-keywords lightitalic">{{{ spanKeywords(keywords) }}}</div>
</div>
{{/skills}}
                        
</div>
                    <div class="info-box edu-box">
                        <h2>{{{template.sectionLabels.education}}}</h2>
                        <ul class="edu-list">
                            {{#education}}
                            <li class="edu-item">
                                <div class="edu-head">{{{studyType}}} {{{area}}}</div>
                                <div class="edu-meta">{{ formatDate(endDate) }}</div>
                                <div class="edu-line">{{{institution}}}</div>
                            </li>
                            {{/education}}
                        </ul>
                    </div>
                </div>
                <div class="right-column">
                    <div class="top-box">
                        <div class="section-title">
                            <hr />
                            <h2>{{template.sectionLabels.work}}</h2>
                            <hr />
                        </div>
                        {{#work}}
                        <div>
                            <h4>{{ formatDate(startDate) }} &ndash; {{ formatDate(endDate) }}</h4>
                            <h3>
                                {{{position}}},
                                <span class="light">{{{name}}}</span>
                            </h3>
                            <ul>
                                {{#highlights}}
                                <li>{{.}}</li>
                                {{/highlights}}
                            </ul>
                        </div>
                        {{/work}}
                    </div>
                    <div class="projects">
                        <div class="section-title">
                            <hr />
                            <h2>{{template.sectionLabels.projects}}</h2>
                            <hr />
                        </div>
                        <ul class="project-list">
                            {{#projects}}
                            <li>
                                <span class="project">{{name}}</span> {{{description}}}
                            </li>
                            {{/projects}}
                        </ul>
                    </div>
                    <div class="bottom-box">
                        {{{custom.moreInfo}}}
                    </div>
                </div>
            </div>
        </div>
        <script>
        window.onload = function() {
            // Keyword separators
            document.querySelectorAll('.skill-keywords').forEach(container => {
                const spans = container.querySelectorAll('.kw');
                spans.forEach((span, i) => {
                    if (i === spans.length - 1) return;
                    const next = spans[i + 1];
                    const spanRect = span.getBoundingClientRect();
                    const nextRect = next.getBoundingClientRect();
                    if (Math.abs(spanRect.top - nextRect.top) < 2) {
                        span.classList.add('has-sep');
                    }
                });
            });
        };
        </script>
    </body>
</html>